@model ClinicX.Models.Clinics
@{
    ViewData["Title"] = "Clinic-X - Appointment Details";
}

<div class="row mb-5 g-5">
    @*<input type="button" value="Back" id="btnBack" class="btn btn-default btn-success" />*@
    <div class="col-md-2">
        <a class="btn btn-default btn-success" asp-controller="Clinic" asp-action="Index">Back to Index</a>
    </div>
    <div class="col-md-1">
        <a class="btn btn-default btn-success" asp-controller="Patient" asp-action="PatientDetails" asp-route-id=@Html.ValueFor(model => model.MPI)>Patient Details</a>        
    </div>    
    <div class="col-md-1">
        <a class="btn btn-default btn-success" asp-controller="Clinic" asp-action="Edit" asp-route-id=@Html.ValueFor(model => model.RefID)>Record Outcome</a>        
    </div>
    <div class="col-md-1">
        <a class="btn btn-default btn-success" asp-controller="Diagnosis" asp-action="Index" asp-route-id=@Html.ValueFor(model => model.MPI)>Record Diagnoses</a>        
    </div>
    <div class="col-md-1">
        <a class="btn btn-default btn-success" asp-controller="Test" asp-action="Index" asp-route-id=@Html.ValueFor(model => model.MPI)>Record Tests</a>        
    </div>
    <div class="col-md-1">
        <a class="btn btn-default btn-success" asp-controller="ClinicalNote" asp-action="Index" asp-route-id=@Html.ValueFor(model => model.MPI)>Clinical Notes</a>
    </div>
    <div class="col-md-1">
        <a class="btn btn-default btn-success" asp-controller="WIP" asp-action="Index" asp-route-id=@Html.ValueFor(model => model.MPI)>Dictate Letter</a>
    </div>
    <div class="col-md-1">
        <a class="btn btn-default btn-success" asp-controller="WIP" asp-action="Index" asp-route-id=@Html.ValueFor(model => model.RefID)>Schedule Review</a>
    </div>
</div>

<h1>Appointment Details</h1>

<div>
    <dl class="row">
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.CGU_No):
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.CGU_No)
        </dd>
        <dt class="col-sm-2">
            Patient:
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.FIRSTNAME) @Html.DisplayFor(model => model.LASTNAME)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.AppType):
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.AppType)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.BOOKED_DATE):
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.BOOKED_DATE)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.BOOKED_TIME):
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.BOOKED_TIME)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Clinic):
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Clinic)
        </dd>
        @if (@Html.ValueFor(model => model.Attendance) != null && @Html.ValueFor(model => model.Attendance) != "")
        {
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Attendance):
            </dt>
            <dd class="col-sm-10">
                @if (@Html.ValueFor(model => model.Attendance) == "Attended")
                {
                    <span>Seen by @Html.DisplayFor(model => model.SeenByClinician) on @Html.DisplayFor(model => model.BOOKED_DATE) at @Html.DisplayFor(model => model.ArrivalTime)</span>
                }
                else
                {
                    @Html.DisplayFor(model => model.Attendance)
                }
            </dd>
        }

    </dl>

</div>

@*<div class="row mb-5 g-5">
    <div class="col-md-2">
        <a class="btn btn-default btn-success" asp-controller="Patient" asp-action="PatientDetails" asp-route-id=@Html.ValueFor(model => model.MPI)>Patient Details</a>
    </div>
    <div class="col-md-10"></div>
</div>*@

<div class="container mb-5 g-5">    
    <div id="ContactDetails">
        <div class="row mb-5">
            <hr />
        </div>@*
        <div class="row mb-5">
            <div class="col-md-1"></div>
            <div class="col-md-1">                
                <a id="btnDiagnosis" class="btn btn-default btn-success" asp-controller="Diagnosis" asp-action="Index" asp-route-id=@Html.ValueFor(model => model.MPI)>Record Diagnoses</a>
            </div>
            <div class="col-md-1"></div>
            <div class="col-md-1">
                <a id="btnDiagnosis" class="btn btn-default btn-success" asp-controller="Test" asp-action="Index" asp-route-id=@Html.ValueFor(model => model.MPI)>Record Tests</a>
            </div>
            <div class="col-md-1"></div>
            <div class="col-md-1">
                <a id="btnDiagnosis" class="btn btn-default btn-success" asp-controller="WIP" asp-action="Index" asp-route-id=@Html.ValueFor(model => model.MPI)>Dictate Letter</a>
            </div>
            <div class="col-md-1"></div>
            <div class="col-md-1">
                <a id="btnDiagnosis" class="btn btn-default btn-success" asp-controller="ClinicalNote" asp-action="Index" asp-route-id=@Html.ValueFor(model => model.MPI)>Clinical Notes</a>
            </div>
            <div class="col-md-1"></div>
            <div class="col-md-1">
                <a id="btnCompleteCOF" class="btn btn-default btn-success" asp-controller="Clinic" asp-action="Edit" asp-route-id=@Html.ValueFor(model => model.RefID)>Record Outcome</a>                    
            </div>                
            <div class="col-md-1"></div>
            <div class="col-md-1">
                <a id="btnCompleteCOF" class="btn btn-default btn-success" asp-controller="WIP" asp-action="Index" asp-route-id=@Html.ValueFor(model => model.RefID)>Schedule Review</a>
            </div>
        </div>
        *@
    </div>
</div>


<script type="text/javascript">

    //document.getElementById("btnBack").addEventListener("click", GoBack);
   
    
    function GoBack()
    {
        window.history.back();
        //window.close();
    }

    function LoadClinic()
    {        
        var _att = "@(Model.Attendance)";
        //document.getElementById("ContactDetails").hidden = true;
        
        if(_att == null || _att == "")
        {
            document.getElementById("btnCompleteCOF-disabled").hidden = true;
        }
        else
        {   
            document.getElementById("btnCompleteCOF").hidden = true;
            document.getElementById("ContactDetails").hidden = false;
        }        
    }


</script>