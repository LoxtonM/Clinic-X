<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Clinic-X</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/light.css" asp-append-version="true" />    
    <script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
    <link rel="stylesheet" href="https://cdn.datatables.net/2.1.3/css/dataTables.dataTables.css" />
    <script src="https://cdn.datatables.net/2.1.3/js/dataTables.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
</head>
<body>
    <header class="mb-7">
        <nav class="navbar navbar-expand-sm navbar-toggleable-sm navbar-light bg-white border-bottom box-shadow mb-3 fixed-top">
            <div class="container-fluid">
                <a class="navbar-brand" asp-area="" asp-controller="Home" asp-action="Index"><img src="~/images/clinic-x-logo-2.png" width="100" height="50" /></a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target=".navbar-collapse" aria-controls="navbarSupportedContent"
                        aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="navbar-collapse collapse d-sm-inline-flex justify-content-between">
                    <ul class="navbar-nav flex-grow-1">
                        <li class="nav-item">
                            <a class="nav-link text-dark" asp-area="" asp-controller="Clinic" asp-action="Index">Clinics</a>
                        </li>
                        <li class="vr"></li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" asp-area="" asp-controller="Triage" asp-action="Index">Triages</a>
                        </li>
                        <li class="vr"></li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" asp-area="" asp-controller="Test" asp-action="AllOutstandingTests">Tests</a>
                        </li>
                        <li class="vr"></li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" asp-area="" asp-controller="Review" asp-action="Index">Reviews</a>
                        </li>
                        <li class="vr"></li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" asp-area="" asp-controller="DictatedLetter" asp-action="Index">Letters</a>
                        </li>
                        <li class="vr"></li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" asp-area="" asp-controller="OtherCaseload" asp-action="Index">Other Caseloads</a>
                        </li>
                        <li class="vr"></li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" asp-area="" asp-controller="PatientSearch" asp-action="Index">Patient Search</a>
                        </li>
                        <li class="vr"></li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" asp-area="" asp-controller="LabReport" asp-action="LabPatientSearch">Lab Report Search</a>
                        </li>
                    </ul>                    
                    <ul class="nav justify-content-end">
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="http://electronic:80">Genetics IT Home Page</a>
                        </li>
                        <li class="vr"></li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" asp-area="" asp-controller="UserProfile" asp-action="ProfileDetails">Your Profile</a>
                        </li>
                        <li class="vr"></li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" asp-area="" asp-controller="Home" asp-action="Logout">Sign Out</a>
                        </li>
                    </ul>                    
                </div>
            </div>
        </nav>
    </header>
    <div class="container">
        <main role="main" class="pb-3">
            <br /><br /><br />@*<br /><br /><br /><br /><br />*@
            <div class="row mb-2 mb-xl-3">
                <div class="col-auto d-none d-sm-block">
                    @*@await Html.PartialAsync("_Breadcrumb", ViewBag.Breadcrumbs as List<ClinicX.Models.BreadcrumbItem>)*@
                </div>
                <div class="col-auto ms-auto text-end mt-n1">
                    @if (ViewBag.HomeButton != null)
                    {
                        @foreach (var button in ViewBag.HomeButton)
                        {
                            @button
                        }
                    }
                    @ViewData["HomeBtn"]

                </div>
            </div>
            @RenderBody()
        </main>
    </div>

    
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/js/bootstrap.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/js/all.min.js" integrity="sha512-6sSYJqDreZRZGkJ3b+YfdhB3MzmuP9R7X1QZ6g5aIXhRvR1Y/N/P47jmnkENm7YL3oqsmI6AK+V6AD99uWDnIw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    @*<script src="~/js/app.js" asp-append-version="true"></script> - this line appears to be blocking the collapse bars from collapsing!*@ 
    <script src="https://cdn.jsdelivr.net/npm/choices.js/public/assets/scripts/choices.min.js"></script>
    <script src="https://cdn.datatables.net/v/dt/dt-2.1.8/datatables.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js" integrity="sha512-VEd+nq25CkR676O+pLBnDW09R7VQX9Mdiij052gVCp5yVH3jGtH70Ho/UUv4mJDsEdTvqRCFZg0NKGiojGnUCw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    
    <script>

        document.addEventListener('DOMContentLoaded', function () 
        {
            $('.defaultTable').DataTable({
                info: true,
                order: false,
                paging: true,
                autoWidth: false,
                width: "100%"
            });

            // choice js
            const elements = document.querySelectorAll('.js-choice');
            elements.forEach(function(element) 
            {
                new Choices(element);
            });

          // toastr js
            toastr.options = 
            {
                "closeButton": true,
                "debug": false,
                "newestOnTop": false,
                "progressBar": true,
                "positionClass": "toast-top-right",
                "preventDuplicates": false,
                "onclick": null,
                "showDuration": "300",
                "hideDuration": "1000",
                "timeOut": "10000",
                "extendedTimeOut": "1000",
                "showEasing": "swing",
                "hideEasing": "linear",
                "showMethod": "fadeIn",
                "hideMethod": "fadeOut"
            };
        });

        @if (TempData["SuccessMessage"] != null)
        {
            <text>toastr.success('@TempData["SuccessMessage"]');</text>
        }
        @if (TempData["InfoMessage"] != null)
        {
            <text>toastr.info('@TempData["InfoMessage"]');</text>
        }
        @if (TempData["WarningMessage"] != null)
        {
            <text>toastr.warning('@TempData["WarningMessage"]');</text>
        }
        @if (TempData["ErrorMessage"] != null)
        {
            <text>toastr.error('@TempData["ErrorMessage"]');</text>
        }


    </script>
    
    @await RenderSectionAsync("Scripts", required: false)

</body>
</html>
