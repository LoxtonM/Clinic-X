@model ClinicX.Models.Relatives
@{
    ViewData["Title"] = "Clinic-X - Relative Details";
}

<div class="container">
    <div class="row mb-5 g-5">
        <div class="col-md-2">
            <button type="button" value="Back" id="btnBack" class="btn btn-default btn-success">Back</button>
            @*<a type="button" class="btn btn-default btn-success" asp-controller="Home" asp-action="Index">Back to Home</a>*@
        </div>
        <div class="col-md-1">
            <a id="btnDiagnosis" class="btn btn-default btn-success" asp-controller="WIP" asp-action="Index">Record Diagnoses</a>
        </div>
        <div class="col-md-1">
            <a id="btnDiagnosis" class="btn btn-default btn-success" asp-controller="WIP" asp-action="Index">Record Tests</a>
        </div>
        <div class="col-md-1">
            <a id="btnDiagnosis" class="btn btn-default btn-success" asp-controller="WIP" asp-action="Index">Clinical Notes</a>
        </div>
        <div class="col-md-6"></div>
        <div class="col-md-1">
            <a id="btnEDMS" class="btn btn-default btn-success" href="" target="_blank">EDMS (GEMR)</a>
        </div>
    </div>

    <div class="row mb-5">
        <hr />
    </div>

    <div class="row mb-5 g-5">
        <h1>Relative Details for @Html.DisplayFor(model => model.RelForename1) @Html.DisplayFor(model => model.RelSurname)</h1>
    </div>

    <div class="row mb-5 g-5">
        <dl class="row">        
            <dt class="col-sm-2">
                Full Name:
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.RelTitle) @Html.DisplayFor(model => model.RelForename1) @Html.DisplayFor(model => model.RelForename2) @Html.DisplayFor(model => model.RelSurname)
            </dd>
            <dt class="col-sm-2">
                Relation to Proband:
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Relation)
            </dd>
            <dt class="col-sm-2">
                DOB:
            </dt>
            <dd class="col-sm-4">
                @if (Model.DOB != null)
                {
                    @Html.DisplayFor(model => model.DOB)
                }
                else
                {
                    <span>Not known</span>
                }
            </dd>       
            @if(Model.RelAlive == "No")
            {
                <dt class="col-sm-2">DOD:</dt>
                <dd class="col-sm-4">
                    @if (Model.DOD != null)
                    {
                        @Html.DisplayFor(model => model.DOD)
                    }
                    else
                    {
                        <span>Not known</span>
                    }
                </dd>
            }
            else
            {
                <dt class="col-sm-6"></dt>
            }
            <dt class="col-sm-2">
                Sex:
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Sex)            
            </dd>
            <dt class="col-sm-2">
                Affected
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.RelAffected)
            </dd>
        </dl>
    </div>

    <div class="row mb-5 g-5">
        <a type="button" class="btn btn-default btn-success" asp-action="Edit" asp-route-id="@Model.relsid">Edit</a>
    </div>
</div>

<script>
    document.getElementById("btnBack").addEventListener("click", GoBack);

    function GoBack() 
    {
        window.history.back();        
    }

</script>